# Global Infra and Stablility

## 모듈 3 소개

- AWS 글로벌 인프라의 이점을 요약할 수 있다. 
- 가용 영역의 기본 개념을 설명할 수 있다. 
- AWS CloudFront 및 엣지 로케이션의 이점을 설명할 수 있다. 
- Amazon 서비스를 프로비저닝 할 수 있는 다양한 방법을 비교할 수 있다.

리전을 글로벌하게 구성하여 한 곳에 재난이나 기타 문제가 발생할 경우, 서비스가 지속 가능하도록 구성할 수 있다. - 글로벌 인프라 구조 [고가용성 및 내결함성]

## AWS 글로벌 인프라

AWS 리전

전세계 곳곳에 데이터센터를 구축한다. 각 리전에는 어플리케이션을 실해하는데 필요한 컴퓨팅 파워와 데이터 스토리지가 구성되어 있다. 그리고 각 리전은 서로 네트워크적으로 연결되어 있지만 물리적으로는 서로 격리되어 있다. 예를 들어 프랑크푸르트에 있는 데이터 센터의 데이터는 프랑크푸르트를 벗어나지 않는다. 

리전의 데이터는 리전이 위치한 국가의 법령을 따른다. 

리전 선택 요소

- 규정 준수(ex. 데이터가 서울을 넘어가서는 안된다.)
- 근접성 
- 기능 가용성 (특정 리전에서 원하는 AWS기능이 지원되지 않을 수도 있다. )
- 가격 (동일 하드웨어라도 특정 지역이 비쌀 수 있다. 왜냐면 해당 국가의 세금구조가 다를 수 있기 때문이다.)

가용영역

어플리케이션을 단일 건물에서 실행하는 것은 좋지 않다.
이유는 단일 장애 문제에 취약할 수 있다. 

하지만 AWS는 리전이 한 곳에 있지 않다. 
그리고 각 리전은 여러 데이터 센터로 구성되어 있다. 
이걸 AZ(availibity Zone)이라고 부른다. 

실제로 인스턴스를 실행하면 각 리전 내에 가용 영역의 물리적인 하드웨어에서 서버가 실행된다.

가용 영역이 수십 킬로미터 떨어져 있었도, 광속 네트워크에서 지연은 수ms에 그친다. 

좋은 예로는 2개 이상의 가용 영역에 멀티 인스턴스를 실행하는 것이다.


## 엣지 로케이션

특정 지역에 리전이 없는 경우에는 어떻게 서비스를 수행해야 할까?
반드시 모든 지역에 서비스를 통째로 실행할 필요는 없다. 

따라서 데이터 캐싱을 하는 방식을 사용 할 수 있다. 

CDN(Content Delivery Network)를 사용하는데, 데이터를 복사해서 캐싱하도록 하는 기능이다.

이를 AWS에서는 Amazon CloudFront라는 서비스로 제공한다.

데이터, 동영상 어플리케이션 api를 전세계 고객에게 아주 빠른 속도로 제공하는 서비스이다. 

엣지 로케이션 - 사용자가 전세계 어디있는 서비스를 빠르게 제공하는 서비스

엣지 로케이션은 리전과는 다르다. 

엣지 로케이션은 CDN 분 아니라 DNS(Domain Name Servie)인 Amazon Route 53도 실행한다. 이것은 사용자로 하여금 아주 짧은 시간 내에 웹 로케이션으로 보내기 위한 기능이다.

Aws Outposts 
- AWS가 소유하며 모든 기능을 사용하지만 사용자 건물에 격리된 서비스이다. 이 서비스는 사용자가 특별하게 요청할 경우 지원된다. 

정리

- 리전은 지리적을 격리된 영역
- 리전에는 가용 영역이 포함됨
- 엣지 로케이션은 CloudFront를 실행함


## AWS 리소스를 프로비저닝하는 방법

AWS의 모든 서비스는 api로 상호작용한다. 

- AWS Managemant console
- AWS Command Line Interface
- AWS SDK
- 기타 다양한 도구

</br>

리소스 프로비저닝

AWS Elastic Beanstalk, AWS CloudFormation

</br>
AWS Elastic Beanstalk

* 용량 조정
* 로드 밸런싱
* 자동 조정
* 어플리케이션 상태 모니터링

</br>
AWS CloudFormation

- infra를 코드로 취급할 수 있다. AWS 리소스를 개별적으로 프로비저닝하는 대신에 코드로 작성하여 환경을 관리, 구축이 가능하다. 

또한 스택을 관리할 때 수행해야 할 작업들을 결정하고, 오류를 감지하면 변경 사항을 자동으로 롤백한다. 


